<!DOCTYPE html>
<html>
<head prefix="og: http://ogp.me/ns#">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,minimum-scale=1,initial-scale=1">
<title>nagoya2018-2: ggplot2で作図</title>

<link rel="stylesheet" href="/slides/reveal.js/css/reveal.css">
<link rel="stylesheet" href="/slides/reveal-theme.css">
<meta name="author" content="Watal M. Iwasaki">
<meta property="og:title" content="nagoya2018-2: ggplot2で作図">
<meta property="og:type" content="article">
<meta property="og:url" content="https://heavywatal.github.io/slides/nagoya2018/2-ggplot.html">
<meta property="og:image" content="https://avatars.githubusercontent.com/heavywatal">
<meta property="og:description" content="">
<meta property="og:site_name" content="Slide decks — Heavy Watal">
<meta name="twitter:card" content="summary">
<meta name="twitter:site" content="@heavywatal">
<meta name="twitter:creator" content="@heavywatal">
<meta name="generator" content="Hugo 0.41-DEV" />
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  showProcessingMessages: false,
  messageStyle: "none",
  displayAlign: "left",
  displayIndent: "2em",
  tex2jax: {
    inlineMath: [['$','$']],
    displayMath: [['\\[', '\\]']]
  }
});
</script>
<script async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/MathJax.js?config=TeX-AMS_CHTML"></script>


<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-41178626-2', 'auto');
ga('send', 'pageview');
</script>

</head>
<body>
<div class="reveal">
<div class="slides">
<section>
<h1 id="rにやらせて楽しよう-データの可視化と下ごしらえ-draft">Rにやらせて楽しよう — データの可視化と下ごしらえ (DRAFT)</h1>

<div class="author">
岩嵜 航 (Watal M. Iwasaki)
</div>

<div class="affiliation">
総研大 先導科学研究科<br>
(SOKENDAI, The Graduate University for Advanced Studies)
</div>

<ol>
<li><a href="0-why-r.html">どうしてRを使うの？</a></li>
<li><a href="1-basic-r.html">Rの基本</a></li>
<li><a href="2-ggplot.html">R + ggplot2 — きれいなグラフを簡単に合理的に</a></li>
<li><a href="3-tidy-data.html">R + tidyverse — 使える形にデータを整える</a></li>
</ol>

<div class="footnote">
2018-05-18
名古屋大学 アドバンス生命理学特論 IGER Seminar
</div>

</section>
<section>
<h2 id="データ可視化の重要性">データ可視化の重要性</h2>

<ul>
<li>研究成果を魅力的に伝える</li>
<li>自分自身が状況を把握 → <strong>正しい解析・新しい発見</strong></li>
</ul>

<figure>
<a href="http://r4ds.had.co.nz/explore-intro.html">
<img src="figure/data-science-explore.png">
<figcaption class="url">http://r4ds.had.co.nz/explore-intro.html</figcaption>
</a>
</figure>

<p>きれいなグラフを簡単に合理的に描きたい。
</section>
<section>
<h2 id="同じデータでも見せ方で印象が違う">同じデータでも見せ方で印象が違う</h2>

<p>TODO
</section>
<section>
<h2 id="このパートの内容-r-ggplot2で作図">このパートの内容: R+ggplot2で作図</h2>

<ul>
<li>ggplot2とは</li>
<li>基本的な使い方</li>
<li>いろんな種類のプロットを見てみる</li>
<li>多変量データの俯瞰も楽勝</li>
<li>微調整のやり方</li>
</ul>

</section>
<section>
<h2 id="ggplot2とは">ggplot2とは</h2>

<p><a href="https://ggplot2.tidyverse.org/">
<img src="figure/hex-ggplot2.png" width="120" align="right">
</a></p>

<ul>
<li>tidyverseパッケージ群のひとつ</li>
<li>一貫性のある文法で、いろんなグラフを描ける</li>
<li>&ldquo;The <strong>G</strong>rammer of <strong>G</strong>raphics&rdquo; という体系に基づく設計</li>
</ul>

<p><a href="https://www.amazon.co.jp/Grammar-Graphics-Statistics-Computing/dp/0387245448/ref=as_li_ss_il?ie=UTF8&linkCode=li3&tag=heavywatal-22&linkId=2d44a24b81394d310843bd982fdadf98" target="_blank"><img border="0" src="//ws-fe.amazon-adsystem.com/widgets/q?_encoding=UTF8&ASIN=0387245448&Format=_SL250_&ID=AsinImage&MarketPlace=JP&ServiceVersion=20070822&WS=1&tag=heavywatal-22" ></a><img src="https://ir-jp.amazon-adsystem.com/e/ir?t=heavywatal-22&l=li3&o=9&a=0387245448" width="1" height="1" border="0" alt="" style="border:none !important; margin:0px !important;" /></p>

</section>
<section>
<h2 id="rの普通の-plot-とは根本的に違う">Rの普通の<code>plot</code>とは根本的に違う</h2>

<p>いきなりggplot2から使い始めても大丈夫。</p>

<p><svg width="288pt" height="266pt"
 viewBox="0.00 0.00 288.35 265.60" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 261.6)">
<title>boxes_and_circles</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-261.6 284.3471,-261.6 284.3471,4 -4,4"/>
<!-- Traditional R plot
boxplot(), hist(), ... -->
<g id="node1" class="node">
<title>Traditional R plot
boxplot(), hist(), &hellip;</title>
<polygon fill="none" stroke="#000000" points="128.6762,-257.4019 .1078,-257.4019 .1078,-216.1981 128.6762,-216.1981 128.6762,-257.4019"/>
<text text-anchor="middle" x="64.392" y="-241" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">Traditional R plot</text>
<text text-anchor="middle" x="64.392" y="-224.2" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">boxplot(), hist(), &hellip;</text>
</g>
<!-- graphics -->
<g id="node4" class="node">
<title>graphics</title>
<polygon fill="none" stroke="#000000" points="113.7897,-180 44.9943,-180 44.9943,-144 113.7897,-144 113.7897,-180"/>
<text text-anchor="middle" x="79.392" y="-157.8" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">graphics</text>
</g>
<!-- Traditional R plot
boxplot(), hist(), ...&#45;&gt;graphics -->
<g id="edge1" class="edge">
<title>Traditional R plot
boxplot(), hist(), &hellip;&#45;&gt;graphics</title>
<path fill="none" stroke="#000000" d="M68.5703,-215.964C70.1727,-207.9736 72.0285,-198.7191 73.746,-190.1547"/>
<polygon fill="#000000" stroke="#000000" points="77.2114,-190.6746 75.746,-180.1816 70.348,-189.2982 77.2114,-190.6746"/>
</g>
<!-- lattice -->
<g id="node2" class="node">
<title>lattice</title>
<polygon fill="none" stroke="#000000" points="200.392,-254.8 146.392,-254.8 146.392,-218.8 200.392,-218.8 200.392,-254.8"/>
<text text-anchor="middle" x="173.392" y="-232.6" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">lattice</text>
</g>
<!-- grid -->
<g id="node5" class="node">
<title>grid</title>
<polygon fill="none" stroke="#000000" points="200.392,-180 146.392,-180 146.392,-144 200.392,-144 200.392,-180"/>
<text text-anchor="middle" x="173.392" y="-157.8" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">grid</text>
</g>
<!-- lattice&#45;&gt;grid -->
<g id="edge3" class="edge">
<title>lattice&#45;&gt;grid</title>
<path fill="none" stroke="#000000" d="M173.392,-218.693C173.392,-210.2112 173.392,-199.9062 173.392,-190.4204"/>
<polygon fill="#000000" stroke="#000000" points="176.8921,-190.1995 173.392,-180.1995 169.8921,-190.1995 176.8921,-190.1995"/>
</g>
<!-- ggplot2 -->
<g id="node3" class="node">
<title>ggplot2</title>
<polygon fill="none" stroke="#000000" points="280.3023,-254.8 218.4817,-254.8 218.4817,-218.8 280.3023,-218.8 280.3023,-254.8"/>
<text text-anchor="middle" x="249.392" y="-232.6" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">ggplot2</text>
</g>
<!-- ggplot2&#45;&gt;grid -->
<g id="edge4" class="edge">
<title>ggplot2&#45;&gt;grid</title>
<path fill="none" stroke="#000000" d="M230.9945,-218.693C221.4499,-209.2991 209.6333,-197.669 199.1915,-187.3922"/>
<polygon fill="#000000" stroke="#000000" points="201.4657,-184.7196 191.8835,-180.1995 196.5555,-189.7086 201.4657,-184.7196"/>
</g>
<!-- grDevices -->
<g id="node6" class="node">
<title>grDevices</title>
<polygon fill="none" stroke="#000000" points="157.6139,-108 79.1701,-108 79.1701,-72 157.6139,-72 157.6139,-108"/>
<text text-anchor="middle" x="118.392" y="-85.8" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">grDevices</text>
</g>
<!-- graphics&#45;&gt;grDevices -->
<g id="edge2" class="edge">
<title>graphics&#45;&gt;grDevices</title>
<path fill="none" stroke="#000000" d="M89.2333,-143.8314C93.5877,-135.7925 98.8018,-126.1666 103.6089,-117.2918"/>
<polygon fill="#000000" stroke="#000000" points="106.7328,-118.8732 108.4181,-108.4133 100.5777,-115.5392 106.7328,-118.8732"/>
</g>
<!-- grid&#45;&gt;grDevices -->
<g id="edge5" class="edge">
<title>grid&#45;&gt;grDevices</title>
<path fill="none" stroke="#000000" d="M159.5132,-143.8314C153.1784,-135.5386 145.5536,-125.557 138.5994,-116.4533"/>
<polygon fill="#000000" stroke="#000000" points="141.3095,-114.2353 132.4577,-108.4133 135.7468,-118.4847 141.3095,-114.2353"/>
</g>
<!-- pdf -->
<g id="node7" class="node">
<title>pdf</title>
<polygon fill="none" stroke="#000000" points="73.392,-36 19.392,-36 19.392,0 73.392,0 73.392,-36"/>
<text text-anchor="middle" x="46.392" y="-13.8" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">pdf</text>
</g>
<!-- grDevices&#45;&gt;pdf -->
<g id="edge6" class="edge">
<title>grDevices&#45;&gt;pdf</title>
<path fill="none" stroke="#000000" d="M100.2234,-71.8314C91.6768,-63.2848 81.3363,-52.9443 72.0118,-43.6198"/>
<polygon fill="#000000" stroke="#000000" points="74.3512,-41.0095 64.8053,-36.4133 69.4015,-45.9592 74.3512,-41.0095"/>
</g>
<!-- png -->
<g id="node8" class="node">
<title>png</title>
<polygon fill="none" stroke="#000000" points="145.392,-36 91.392,-36 91.392,0 145.392,0 145.392,-36"/>
<text text-anchor="middle" x="118.392" y="-13.8" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">png</text>
</g>
<!-- grDevices&#45;&gt;png -->
<g id="edge7" class="edge">
<title>grDevices&#45;&gt;png</title>
<path fill="none" stroke="#000000" d="M118.392,-71.8314C118.392,-64.131 118.392,-54.9743 118.392,-46.4166"/>
<polygon fill="#000000" stroke="#000000" points="121.8921,-46.4132 118.392,-36.4133 114.8921,-46.4133 121.8921,-46.4132"/>
</g>
<!-- svg -->
<g id="node9" class="node">
<title>svg</title>
<polygon fill="none" stroke="#000000" points="217.392,-36 163.392,-36 163.392,0 217.392,0 217.392,-36"/>
<text text-anchor="middle" x="190.392" y="-13.8" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">svg</text>
</g>
<!-- grDevices&#45;&gt;svg -->
<g id="edge8" class="edge">
<title>grDevices&#45;&gt;svg</title>
<path fill="none" stroke="#000000" d="M136.5606,-71.8314C145.1072,-63.2848 155.4477,-52.9443 164.7722,-43.6198"/>
<polygon fill="#000000" stroke="#000000" points="167.3825,-45.9592 171.9787,-36.4133 162.4328,-41.0095 167.3825,-45.9592"/>
</g>
</g>
</svg></p>

</section>
<section>
<h2 id="基本的な使い方-要素を-していく">基本的な使い方: 要素を <code>+</code> していく</h2>

<ul>
<li><code>ggplot()</code> にデータを渡す。</li>
<li><code>geom_*()</code> で点や線のレイヤーを重ねる。</li>
<li><code>theme_*()</code> で軸や背景の見た目を変更。</li>
</ul>
<div class="highlight"><pre class="chroma"><code class="language-r" data-lang="r">ggplot<span class="p">(</span>data <span class="o">=</span> mpg<span class="p">)</span>
<span class="c1"># geom_point(mapping = aes(x = displ, y = hwy))</span>
<span class="c1"># theme_classic(base_size = 20, base_family = &#34;Helvetica&#34;)</span></code></pre></div>
<p><img src="figure/ggplot-plus0-1.png" alt="plot of chunk ggplot-plus0"></p>

</section>
<section>
<h2 id="基本的な使い方-要素を-していく">基本的な使い方: 要素を <code>+</code> していく</h2>

<ul>
<li><code>ggplot()</code> にデータを渡す。</li>
<li><code>geom_*()</code> で点や線のレイヤーを重ねる。</li>
<li><code>theme_*()</code> で軸や背景の見た目を変更。</li>
</ul>
<div class="highlight"><pre class="chroma"><code class="language-r" data-lang="r">ggplot<span class="p">(</span>data <span class="o">=</span> mpg<span class="p">)</span> <span class="o">+</span>
  geom_point<span class="p">(</span>mapping <span class="o">=</span> aes<span class="p">(</span>x <span class="o">=</span> displ<span class="p">,</span> y <span class="o">=</span> hwy<span class="p">))</span>
<span class="c1"># theme_classic(base_size = 20, base_family = &#34;Helvetica&#34;)</span></code></pre></div>
<p><img src="figure/ggplot-plus1-1.png" alt="plot of chunk ggplot-plus1"></p>

</section>
<section>
<h2 id="基本的な使い方-要素を-していく">基本的な使い方: 要素を <code>+</code> していく</h2>

<ul>
<li><code>ggplot()</code> にデータを渡す。</li>
<li><code>geom_*()</code> で点や線のレイヤーを重ねる。</li>
<li><code>theme_*()</code> で軸や背景の見た目を変更。</li>
</ul>
<div class="highlight"><pre class="chroma"><code class="language-r" data-lang="r">ggplot<span class="p">(</span>data <span class="o">=</span> mpg<span class="p">)</span> <span class="o">+</span>
  geom_point<span class="p">(</span>mapping <span class="o">=</span> aes<span class="p">(</span>x <span class="o">=</span> displ<span class="p">,</span> y <span class="o">=</span> hwy<span class="p">))</span> <span class="o">+</span>
  theme_classic<span class="p">(</span>base_size <span class="o">=</span> <span class="m">20</span><span class="p">,</span> base_family <span class="o">=</span> <span class="s">&#34;Helvetica&#34;</span><span class="p">)</span></code></pre></div>
<p><img src="figure/ggplot-plus2-1.png" alt="plot of chunk ggplot-plus2"></p>

</section>
<section>
<h2 id="途中経過を取っておける">途中経過を取っておける</h2>
<div class="highlight"><pre class="chroma"><code class="language-r" data-lang="r">p0 <span class="o">=</span> ggplot<span class="p">(</span>data <span class="o">=</span> mpg<span class="p">)</span>
p1 <span class="o">=</span> p0 <span class="o">+</span> geom_point<span class="p">(</span>mapping <span class="o">=</span> aes<span class="p">(</span>x <span class="o">=</span> displ<span class="p">,</span> y <span class="o">=</span> hwy<span class="p">))</span>
p2 <span class="o">=</span> p1 <span class="o">+</span> theme_classic<span class="p">(</span>base_size <span class="o">=</span> <span class="m">20</span><span class="p">,</span> base_family <span class="o">=</span> <span class="s">&#34;Helvetica&#34;</span><span class="p">)</span>
<span class="kp">print</span><span class="p">(</span>p2<span class="p">)</span></code></pre></div>
<p><img src="figure/ggplot-object-1.png" alt="plot of chunk ggplot-object"></p>

</section>
<section>
<h2 id="データは1つのdata-frameにまとめておく">データは1つのdata.frameにまとめておく</h2>

<p>X軸やY軸になるものがそれぞれ縦1列。横1行が1データ点。<br>
車の燃費に関する多変量データの例 <code>mpg</code>:</p>
<div class="highlight"><pre class="chroma"><code class="language-r" data-lang="r"><span class="kp">print</span><span class="p">(</span>mpg<span class="p">)</span></code></pre></div>
<pre><code>     manufacturer  model displ  year   cyl      trans    drv   cty   hwy     fl   class
           &lt;char&gt; &lt;char&gt; &lt;num&gt; &lt;int&gt; &lt;int&gt;     &lt;char&gt; &lt;char&gt; &lt;int&gt; &lt;int&gt; &lt;char&gt;  &lt;char&gt;
  1:         audi     a4   1.8  1999     4   auto(l5)      f    18    29      p compact
  2:         audi     a4   1.8  1999     4 manual(m5)      f    21    29      p compact
  3:         audi     a4   2.0  2008     4 manual(m6)      f    20    31      p compact
  4:         audi     a4   2.0  2008     4   auto(av)      f    21    30      p compact
 ---                                                                                   
231:   volkswagen passat   2.0  2008     4 manual(m6)      f    21    29      p midsize
232:   volkswagen passat   2.8  1999     6   auto(l5)      f    16    26      p midsize
233:   volkswagen passat   2.8  1999     6 manual(m5)      f    18    26      p midsize
234:   volkswagen passat   3.6  2008     6   auto(s6)      f    17    26      p midsize
</code></pre>

<p>排気量<code>displ</code>と燃費<code>hwy</code>以外の列も図に反映させたい&hellip;!</p>

</section>
<section>
<h2 id="aesthetic-mapping-でデータ列と見せ方を紐付け">Aesthetic mapping でデータ列と見せ方を紐付け</h2>

<p><code>aes()</code> の中で指定する。</p>
<div class="highlight"><pre class="chroma"><code class="language-r" data-lang="r">p0 <span class="o">+</span> geom_point<span class="p">(</span>mapping <span class="o">=</span> aes<span class="p">(</span>x <span class="o">=</span> displ<span class="p">,</span> y <span class="o">=</span> hwy<span class="p">,</span> size <span class="o">=</span> cyl<span class="p">,</span>
                              colour <span class="o">=</span> <span class="kp">class</span><span class="p">,</span> shape <span class="o">=</span> drv<span class="p">))</span></code></pre></div>
<p><img src="figure/mpg-aes-1.png" alt="plot of chunk mpg-aes"></p>

</section>
<section>
<h2 id="データによらず一律で見せ方を変える">データによらず一律で見せ方を変える</h2>

<p><code>aes()</code> の外で指定する。</p>
<div class="highlight"><pre class="chroma"><code class="language-r" data-lang="r">p0 <span class="o">+</span> geom_point<span class="p">(</span>mapping <span class="o">=</span> aes<span class="p">(</span>x <span class="o">=</span> displ<span class="p">,</span> y <span class="o">=</span> hwy<span class="p">),</span>
                size <span class="o">=</span> <span class="m">5</span><span class="p">,</span> colour <span class="o">=</span> <span class="s">&#34;darkorange&#34;</span><span class="p">,</span> alpha <span class="o">=</span> <span class="m">0.5</span><span class="p">)</span></code></pre></div>
<p><img src="figure/mpg-aes-nomap-1.png" alt="plot of chunk mpg-aes-nomap"></p>

</section>
<section>
<h2 id="がんばって調整すると">がんばって調整すると</h2>

<p><img src="figure/quakes-1.png" alt="plot of chunk quakes">
</section>
<section>
<h2 id="facetで切り分けて表示-1変数">Facetで切り分けて表示 (1変数)</h2>
<div class="highlight"><pre class="chroma"><code class="language-r" data-lang="r">p1 <span class="o">+</span> facet_wrap<span class="p">(</span><span class="o">~</span> <span class="kp">class</span><span class="p">,</span> ncol <span class="o">=</span> <span class="m">4L</span><span class="p">)</span></code></pre></div>
<p><img src="figure/facet-wrap-1.png" alt="plot of chunk facet-wrap"></p>

</section>
<section>
<h2 id="facetで切り分けて表示-2変数">Facetで切り分けて表示 (2変数)</h2>
<div class="highlight"><pre class="chroma"><code class="language-r" data-lang="r">p1 <span class="o">+</span> facet_grid<span class="p">(</span>cyl <span class="o">~</span> <span class="kp">class</span><span class="p">)</span></code></pre></div>
<p><img src="figure/facet-grid-1.png" alt="plot of chunk facet-grid"></p>

</section>
<section>
<h2 id="多変量データの俯瞰に便利">多変量データの俯瞰に便利</h2>

<p><img src="figure/facet-diamonds-1.png" alt="plot of chunk facet-diamonds">
</section>
<section>
<h2 id="グラフの種類-geom-関数">グラフの種類 geom_***() 関数</h2>

<dl>
<dt><a href="https://ggplot2.tidyverse.org/reference/geom_point.html">散布図</a></dt>
<dd><code>gp + geom_point(size=2, alpha=0.3)</code></dd>
<dd><code>gp + geom_text(aes(label=foo))</code></dd>
<dt><a href="https://ggplot2.tidyverse.org/reference/geom_path.html">折れ線グラフ</a></dt>
<dd><code>gp + geom_path(size=2, linetype=&quot;dashed&quot;)</code> データ順に結ぶ</dd>
<dd><code>gp + geom_line()</code> x軸上の順で結ぶ</dd>
<dd><code>gp + geom_step()</code> 階段状に結ぶ</dd>
<dt><a href="https://ggplot2.tidyverse.org/reference/geom_ribbon.html">面グラフ</a></dt>
<dd><code>gp + geom_ribbon()</code> &mdash; yminからymaxの面</dd>
<dd><code>gp + geom_area()</code> &mdash; 0からyの面</dd>
<dt><a href="https://ggplot2.tidyverse.org/reference/geom_histogram.html">ヒストグラム、密度曲線</a></dt>
<dd><code>gp + geom_histogram()</code> &mdash; 棒グラフ(連続値を<code>stat_bin()</code> で区切って)</dd>
<dd><code>gp + geom_bar()</code> &mdash; 棒グラフ(離散値を<code>stat_count()</code>で数えて)</dd>
<dd><code>gp + geom_freqpoly()</code> &mdash; 折れ線</dd>
<dd><code>gp + geom_density()</code> &mdash; 密度推定されたスムーズな線</dd>
<dd><code>gp + geom_bin2d()</code> &mdash; 二次元ヒストグラム</dd>
<dd><code>gp + geom_hex()</code> &mdash; 六角形版二次元ヒストグラム</dd>
<dt><a href="https://ggplot2.tidyverse.org/reference/geom_bar.html">棒グラフ</a></dt>
<dd><code>gp + geom_col()</code></dd>
<dt><a href="https://ggplot2.tidyverse.org/reference/geom_boxplot.html">箱ひげ図</a></dt>
<dd><code>gp + geom_boxplot()</code></dd>
<dd><code>gp + geom_violin()</code></dd>
<dt><a href="https://ggplot2.tidyverse.org/reference/geom_tile.html">ヒートマップ</a></dt>
<dd><code>gp + geom_tile(aes(fill=z))</code></dd>
<dd><code>gp + geom_raster(aes(fill=z))</code> &mdash; 各タイルの大きさを揃える制約のため高速</dd>
<dt><a href="https://ggplot2.tidyverse.org/reference/geom_linerange.html">エラーバー</a></dt>
<dd><code>gp + geom_errorbar(aes(ymax = y + se, ymin = y - se), width = 0.1)</code></dd>
<dd><code>gp + geom_linerange(...)</code></dd>
<dd><code>gp + geom_pointrange(...)</code></dd>
<dt><a href="https://ggplot2.tidyverse.org/reference/geom_abline.html">切片と傾きで直線を描く</a></dt>
<dd><code>gp + geom_abline(intercept=3, slope=5)</code></dd>
<dd><code>gp + geom_hline(yintercept=7) + geom_vline(xintercept=11)</code></dd>
<dt><a href="https://ggplot2.tidyverse.org/reference/geom_segment.html">始点と終点で曲線や矢印を描く</a></dt>
<dd><code>gp + geom_curve(aes(x, y, xend, yend), curvature = -0.2)</code></dd>
<dd><code>gp + geom_segment(aes(x, y, xend, yend), arrow=arrow())</code></dd>
</dl>

</section>
<section>
<h2 id="座標軸の調整">座標軸の調整</h2>

</section>
<section>
<h2 id="themeで全体の雰囲気を調整">themeで全体の雰囲気を調整</h2>

</section>
<section>
<h2 id="論文のfigureみたいに並べる">論文のFigureみたいに並べる</h2>

<p>cowplot
patchwork
gridExtra
</section>
<section>
<h2 id="ggsave-図を保存">ggsave 図を保存</h2>

<p>Exportボタンみたいなとこをクリックしても保存できるけど、
ここもプログラムとして書く！
</section>
<section>
<h2 id="参考">参考</h2>

<dl>
<dt>発展的な内容</dt>
<dd><code>grid</code> を習得するとグラフの中にグラフを入れたり、
表形式のデータを図としてグラフと並べたりもできる。
<a href="https://notchained.hatenablog.com/entry/2015/12/17/010904">@yutannihilationさんの記事</a>
とかを参考に。</dd>
</dl>

</section>
</div>
</div>
<script src="/slides/reveal.js/lib/js/head.min.js"></script>
<script src="/slides/reveal.js/js/reveal.js"></script>
<script>
Reveal.initialize({
  width: 960,
  height: 720,
  margin: 0,
  controls: false,
  controlsTutorial: false,
  progress: false,
  slideNumber: 'c/t',
  history: false,
  center: false,
  embedded: false,
  transition: 'none',
  transitionSpeed: 'fast',
  backgroundTransition: 'none',
  viewDistance: 1,
  dependencies: [
    { src: '\/slides\/reveal.js\/plugin\/notes\/notes.js', async: true }
  ]
});
</script>

</body>
</html>
